# ุจููุฉ ูุงุฌูุฉ ุงูููุจ (WebView)

> **ูุธุฑุฉ ุนุงูุฉ:** ูุงุฌูุฉ ุงููุณุชุฎุฏู ุงูุชูุงุนููุฉ ูุงูุชุฏุงุฏ Kilo Code
> **ุงููุณุงุฑ:** `webview-ui/` > **ุงูุชูููุฉ:** React + TypeScript + TailwindCSS

## ๐๏ธ ูุธุฑุฉ ุนุงูุฉ ุนูู ุงูุจููุฉ

ูุงุฌูุฉ ุงูููุจ ูู ุงููุงุฌูุฉ ุงูุฑุฆูุณูุฉ ููุชูุงุนู ูุน ูุณุชุฎุฏู Kilo Code. ูุจููุฉ ุจุงุณุชุฎุฏุงู React ูุน TypeScript ูุชุณุชุฎุฏู TailwindCSS ููุชูุณูู.

### ุงููููู ุงูุฑุฆูุณู

```
webview-ui/src/
โโโ App.tsx              # ููุทุฉ ุงูุฏุฎูู ุงูุฑุฆูุณูุฉ
โโโ components/          # ุงูููููุงุช ุงููุงุจูุฉ ูุฅุนุงุฏุฉ ุงูุงุณุชุฎุฏุงู
โโโ context/            # React Context ูุฅุฏุงุฑุฉ ุงูุญุงูุฉ
โโโ hooks/              # React Hooks ูุฎุตุตุฉ
โโโ utils/              # ุฃุฏูุงุช ูุณุงุนุฏุฉ
โโโ services/           # ุงูุฎุฏูุงุช ูุงูุชูุงูู
โโโ i18n/               # ุงูุชุฏููู ูุงูุชุฑุฌูุฉ
โโโ kilocode/           # ููููุงุช Kilo Code ุงูุฎุงุตุฉ
```

## ๐จ ุงูููููุงุช ุงูุฑุฆูุณูุฉ

### 1. App.tsx - ููุทุฉ ุงูุฏุฎูู

ุงููููู ุงูุฌุฐุฑ ุงูุฐู ูุฏูุฑ ุฌููุน ุงููุงุฌูุงุช ูุงูุชุจุฏูู ุจูููุง.

```typescript
// webview-ui/src/App.tsx
export default function App() {
	// ุฅุฏุงุฑุฉ ุงูุญุงูุฉ ุงูุนุงูุฉ
	// ุงูุชุจุฏูู ุจูู ุงููุงุฌูุงุช
	// ูุนุงูุฌุฉ ุงูุฑุณุงุฆู ูู ุงูุงูุชุฏุงุฏ
}
```

### 2. ุงููุงุฌูุงุช ุงููุชุงุญุฉ

- **ChatView** - ูุงุฌูุฉ ุงูุฏุฑุฏุดุฉ ุงูุฑุฆูุณูุฉ
- **SettingsView** - ูุงุฌูุฉ ุงูุฅุนุฏุงุฏุงุช
- **HistoryView** - ุณุฌู ุงููุญุงุฏุซุงุช
- **McpView** - ุฅุฏุงุฑุฉ ุฎูุงุฏู MCP
- **ProfileView** - ููู ุงููุณุชุฎุฏู ุงูุดุฎุตู
- **AuthView** - ูุงุฌูุฉ ุงููุตุงุฏูุฉ
- **MarketplaceView** - ุณูู ุงูุฅุถุงูุงุช
- **WelcomeView** - ูุงุฌูุฉ ุงูุชุฑุญูุจ

## ๐งฉ ูุธุงู ุงูููููุงุช

### 1. ููููุงุช ุงูุฏุฑุฏุดุฉ (Chat Components)

```
components/chat/
โโโ ChatView.tsx         # ูุงุฌูุฉ ุงูุฏุฑุฏุดุฉ ุงูุฑุฆูุณูุฉ
โโโ Message.tsx          # ุนุฑุถ ุงูุฑุณุงุฆู
โโโ InputArea.tsx        # ููุทูุฉ ุฅุฏุฎุงู ุงููุต
โโโ ToolUseView.tsx      # ุนุฑุถ ุงุณุชุฎุฏุงู ุงูุฃุฏูุงุช
โโโ ChatHistory.tsx      # ุณุฌู ุงูุฏุฑุฏุดุฉ
```

**ุงููููุฒุงุช:**

- ุนุฑุถ ุงูุฑุณุงุฆู ูุน ุงูุชุฑููุฒ
- ุฏุนู ุงููููุงุช ุงููุฑููุฉ
- ุนุฑุถ ุชูููุฐ ุงูุฃุฏูุงุช
- ุงูุชูุฑูุฑ ุงูุชููุงุฆู
- ูุณุฎ ุงูุฑุณุงุฆู

### 2. ููููุงุช ุงูุฅุนุฏุงุฏุงุช (Settings Components)

```
components/settings/
โโโ SettingsView.tsx     # ูุงุฌูุฉ ุงูุฅุนุฏุงุฏุงุช ุงูุฑุฆูุณูุฉ
โโโ ApiKeyManager.tsx    # ุฅุฏุงุฑุฉ ููุงุชูุญ API
โโโ ProviderSettings.tsx # ุฅุนุฏุงุฏุงุช ููุฏูู ุงูุฎุฏูุฉ
โโโ GeneralSettings.tsx  # ุงูุฅุนุฏุงุฏุงุช ุงูุนุงูุฉ
```

**ุงููููุฒุงุช:**

- ุฅุฏุงุฑุฉ ููุงุชูุญ API
- ุงุฎุชูุงุฑ ููุฏูู ุงูุฎุฏูุฉ
- ุฅุนุฏุงุฏุงุช ุงูุณููู
- ุงูุชุญูู ูู ุงูุตุญุฉ

### 3. ููููุงุช Kilo Code (Kilo Code Components)

```
kilocode/
โโโ welcome/            # ูุงุฌูุฉ ุงูุชุฑุญูุจ
โโโ profile/            # ููู ุงููุณุชุฎุฏู
โโโ auth/               # ุงููุตุงุฏูุฉ
โโโ BottomControls.tsx  # ุฃุฏูุงุช ุงูุชุญูู ุงูุณูููุฉ
โโโ MemoryWarningBanner.tsx # ุชูุจููุงุช ุงูุฐุงูุฑุฉ
```

**ุงููููุฒุงุช:**

- ุชุฎุตูุต Kilo Code
- ุฅุฏุงุฑุฉ ุงูุญุณุงุจุงุช
- ุงููุตุงุฏูุฉ ุงูุขููุฉ
- ุงูุชุญูู ูู ุงูุฌูุณุฉ

## ๐ ุฅุฏุงุฑุฉ ุงูุญุงูุฉ

### 1. ExtensionStateContext

ุฅุฏุงุฑุฉ ุงูุญุงูุฉ ุงูุนุงูุฉ ููุงูุชุฏุงุฏ ุจุงุณุชุฎุฏุงู React Context.

```typescript
// context/ExtensionStateContext.tsx
export const ExtensionStateContextProvider = ({ children }) => {
	// ุญุงูุฉ ุงูุงูุชุฏุงุฏ
	// ุฅุนุฏุงุฏุงุช ุงููุณุชุฎุฏู
	// ุญุงูุฉ ุงูุงุชุตุงู
}
```

### 2. ุงุณุชุฎุฏุงู React Query

ูุฅุฏุงุฑุฉ ุงูุจูุงูุงุช ุงููุงุจูุฉ ููุชุฎุฒูู ุงููุคูุช ูุงูุทูุจุงุช ุบูุฑ ุงููุชุฒุงููุฉ.

```typescript
// App.tsx
const queryClient = new QueryClient({
	defaultOptions: {
		queries: {
			staleTime: 1000 * 60 * 5, // 5 ุฏูุงุฆู
			cacheTime: 1000 * 60 * 10, // 10 ุฏูุงุฆู
		},
	},
})
```

## ๐ ุงูุชูุงูู ูุน VS Code

### 1. ุงูุงุชุตุงู ุจุงูุงูุชุฏุงุฏ

ุงุณุชุฎุฏุงู ูุงุฌูุฉ VS Code API ููุชูุงุตู ูุน ุงูุชุฏุงุฏ VS Code.

```typescript
// utils/vscode.ts
export const vscode = acquireVsCodeApi()

// ุฅุฑุณุงู ุฑุณุงูุฉ ุฅูู ุงูุงูุชุฏุงุฏ
vscode.postMessage({
	type: "apiRequest",
	request: apiRequest,
})

// ุงุณุชูุจุงู ุฑุณุงูุฉ ูู ุงูุงูุชุฏุงุฏ
window.addEventListener("message", (event) => {
	const message = event.data
	// ูุนุงูุฌุฉ ุงูุฑุณุงูุฉ
})
```

### 2. ุฃููุงุน ุงูุฑุณุงุฆู

```typescript
// @roo/ExtensionMessage
export interface ExtensionMessage {
	type: "apiRequest" | "state" | "settings" | "error"
	// ุจูุงูุงุช ุงูุฑุณุงูุฉ
}
```

## ๐จ ูุธุงู ุงูุชุตููู

### 1. TailwindCSS

ุงุณุชุฎุฏุงู TailwindCSS ููุชูุณูู ุงูุณุฑูุน ูุงููุชุณู.

```css
/* ูุซุงู ุนูู ุงููุฆุงุช ุงููุณุชุฎุฏูุฉ */
className="bg-vscode-editor-background border border-vscode-panel-border rounded-lg p-4"
```

### 2. ูุชุบูุฑุงุช VS Code

ุงุณุชุฎุฏุงู ูุชุบูุฑุงุช VS Code CSS ููุชูุงูู ูุน ุงูุณูุฉ.

```css
/* index.css */
:root {
	--vscode-editor-background: var(--vscode-editor-background);
	--vscode-editor-foreground: var(--vscode-editor-foreground);
	--vscode-button-background: var(--vscode-button-background);
}
```

### 3. ููููุงุช UI

ููููุงุช ูุงุจูุฉ ูุฅุนุงุฏุฉ ุงูุงุณุชุฎุฏุงู ูุจููุฉ ุจุงุณุชุฎุฏุงู Radix UI.

```
components/ui/
โโโ Button.tsx           # ุฃุฒุฑุงุฑ ูุงุจูุฉ ููุชุฎุตูุต
โโโ Input.tsx            # ุญููู ุฅุฏุฎุงู ุงููุต
โโโ Select.tsx           # ููุงุฆู ููุณุฏูุฉ
โโโ Dialog.tsx           # ููุงูุฐ ุญูุงุฑูุฉ
โโโ Tooltip.tsx          # ุชูููุญุงุช
โโโ Badge.tsx            # ุดุงุฑุงุช
```

## ๐ ุงูุชุฏููู (i18n)

### 1. ูุธุงู ุงูุชุฑุฌูุฉ

ุงุณุชุฎุฏุงู react-i18next ููุชุฏููู.

```typescript
// i18n/TranslationContext.tsx
export const TranslationProvider = ({ children }) => {
	// ุฅุนุฏุงุฏ ุงููุบุฉ
	// ุชูููุฑ ุฏูุงู ุงูุชุฑุฌูุฉ
}
```

### 2. ุงููุบุงุช ุงููุฏุนููุฉ

- ุงูุนุฑุจูุฉ (ar)
- ุงูุฅูุฌููุฒูุฉ (en)
- ุงูุตูููุฉ ุงููุจุณุทุฉ (zh-CN)
- ุงูุตูููุฉ ุงูุชูููุฏูุฉ (zh-TW)
- ุงูุฅุณุจุงููุฉ (es)
- ุงููุฑูุณูุฉ (fr)
- ุงูุฃููุงููุฉ (de)
- ุงููุงุจุงููุฉ (ja)
- ุงูููุฑูุฉ (ko)
- ูุบูุฑูุง...

## ๐ง ุงูุฎุฏูุงุช ูุงูุชูุงูู

### 1. MemoryService

ุฎุฏูุฉ ูุฅุฏุงุฑุฉ ุงูุฐุงูุฑุฉ ูุงูุชุฎุฒูู ุงููุคูุช.

```typescript
// services/MemoryService.ts
export class MemoryService {
	// ุชุฎุฒูู ุงูุจูุงูุงุช
	// ุงุณุชุฑุฌุงุน ุงูุจูุงูุงุช
	// ุชูุธูู ุงูุฐุงูุฑุฉ
}
```

### 2. TelemetryClient

ุฅุฑุณุงู ุจูุงูุงุช ุงูุชุญูููุงุช ูุงูุชุชุจุน.

```typescript
// utils/TelemetryClient.ts
export const telemetryClient = {
	trackEvent: (eventName: TelemetryEventName, properties?: any) => {
		// ุฅุฑุณุงู ุญุฏุซ ุชุญูููู
	},
}
```

## ๐ฏ ุฃุฏุงุก ูุชุญุณูู

### 1. ุชุญุณูู ุงูุนุฑุถ

- ุงุณุชุฎุฏุงู React.memo ูููุน ุฅุนุงุฏุฉ ุงูุนุฑุถ ุบูุฑ ุงูุถุฑูุฑูุฉ
- ุงุณุชุฎุฏุงู useMemo ู useCallback ููุญุณุงุจุงุช ุงูููููุฉ
- ุชุญููู ุงูููููุงุช ุจุดูู ูุณูู ุนูุฏ ุงูุญุงุฌุฉ

### 2. ุชุญุณูู ุงูุญุฌู

- ุชูุณูู ุงูููุฏ (Code Splitting)
- ุชุญููู ุงูููููุงุช ุญุณุจ ุงูุทูุจ
- ุถุบุท ุงูุฃุตูู ูุงูุตูุฑ

### 3. ุชุญุณูู ุงูุชูุงุนู

- ูุนุงูุฌุฉ ุงูุฅุฏุฎุงู ุบูุฑ ุงููุชุฒุงููุฉ
- ุนุฑุถ ูุคุดุฑุงุช ุงูุชุญููู
- ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ุจูุทู

## ๐งช ุงูุงุฎุชุจุงุฑ

### 1. ุงุฎุชุจุงุฑุงุช ุงููุญุฏุงุช

ุงุณุชุฎุฏุงู Jest ู React Testing Library ูุงุฎุชุจุงุฑ ุงูููููุงุช.

```typescript
// __tests__/App.test.tsx
describe("App", () => {
	it("renders correctly", () => {
		// ุงุฎุชุจุงุฑ ุงูุนุฑุถ ุงูุตุญูุญ
	})
})
```

### 2. ุงุฎุชุจุงุฑุงุช ุงูุชูุงูู

ุงุฎุชุจุงุฑ ุงูุชูุงุนู ุจูู ุงูููููุงุช ูุงูุฎุฏูุงุช.

### 3. ุงุฎุชุจุงุฑุงุช End-to-End

ุงุณุชุฎุฏุงู Playwright ูุงุฎุชุจุงุฑ ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู ุงููุงููุฉ.

---

**ููุฎุต:** ูุงุฌูุฉ ุงูููุจ ูุตููุฉ ูุชููู ุณุฑูุนุฉุ ูุงุจูุฉ ููุชูุณูุนุ ูุณููุฉ ุงูุงุณุชุฎุฏุงู ูุน ุฏุนู ูุงูู ููุชุฏููู ูุงูุชุฎุตูุต.
