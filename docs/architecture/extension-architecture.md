# ุจููุฉ ุงูุชุฏุงุฏ Kilo Code

> **ูุธุฑุฉ ุนุงูุฉ:** ุงูุจููุฉ ุงููุนูุงุฑูุฉ ูุงูุชุฏุงุฏ VS Code ุงูุฑุฆูุณู
> **ุงููุณุงุฑ:** `src/` > **ุงูููุทุฉ ุงูุฑุฆูุณูุฉ:** `src/extension.ts`

## ๐๏ธ ูุธุฑุฉ ุนุงูุฉ ุนูู ุงูุจููุฉ

ุงูุชุฏุงุฏ Kilo Code ูุจูู ุนูู ุจููุฉ ูุนูุงุฑูุฉ ูุน ูุตู ูุงุถุญ ูููุณุคูููุงุช. ูุชููู ูู ุซูุงุซ ุทุจูุงุช ุฑุฆูุณูุฉ:

1. **ุทุจูุฉ ุงูุชูุนูู (Activation Layer)** - ุฅุนุฏุงุฏ ูุชุดุบูู ุงูุงูุชุฏุงุฏ
2. **ุงูุทุจูุฉ ุงูุฃุณุงุณูุฉ (Core Layer)** - ููุทู ุงูุนูู ุงูุฑุฆูุณู
3. **ุทุจูุฉ ุงูุฎุฏูุงุช (Services Layer)** - ุงูุฎุฏูุงุช ุงูุฎุงุฑุฌูุฉ ูุงูุชูุงูู

## ๐ ุนูููุฉ ุงูุชูุนูู

### ููุทุฉ ุงูุฏุฎูู ุงูุฑุฆูุณูุฉ

```typescript
// src/extension.ts
export async function activate(context: vscode.ExtensionContext) {
	// ุฅุนุฏุงุฏ ุงููููุงุช ูุงูุฎุฏูุงุช
	// ุชูุนูู ุงูููููุงุช ุงูุฃุณุงุณูุฉ
	// ุชุณุฌูู ุงูุฃูุงูุฑ ูุงูproviders
}
```

### ุฎุทูุงุช ุงูุชูุนูู

1. **ุชุญููู ูุชุบูุฑุงุช ุงูุจูุฆุฉ** ูู ููู `.env`
2. **ุฅูุดุงุก ูููุงุช ุงูุฅุฎุฑุงุฌ** ููุชุณุฌูู ูุงูุชุตุญูุญ
3. **ุชููุฆุฉ ุงูุฎุฏูุงุช ุงูุณุญุงุจูุฉ** (CloudService, Telemetry)
4. **ุชูุนูู ุงูุชุฏููู** (i18n)
5. **ุชุณุฌูู ุงูุฃูุงูุฑ ูุงูproviders**
6. **ุฅุนุฏุงุฏ ูุฏูุฑู ุงูุฎุฏูุงุช** (MCP, CodeIndex, Ghost)

## ๐ง ุงูุทุจูุฉ ุงูุฃุณุงุณูุฉ (Core)

### ุงูููููุงุช ุงูุฑุฆูุณูุฉ

```
src/core/
โโโ webview/           # ูุงุฌูุฉ ุงูููุจ ูุงูุชูุงุนู ูุน ุงููุณุชุฎุฏู
โโโ task/              # ุฅุฏุงุฑุฉ ุงูููุงู ูุงูุฏุฑุฏุดุฉ
โโโ tools/             # ุฃุฏูุงุช ุงูุจุฑูุฌุฉ ูุงูุชูููุฐ
โโโ prompts/           # ุฅุฏุงุฑุฉ ุงูุฃูุงูุฑ ูุงูููุงูุจ
โโโ config/            # ุฅุนุฏุงุฏุงุช ูุชูููู ุงูุงูุชุฏุงุฏ
โโโ context/           # ุฅุฏุงุฑุฉ ุงูุณูุงู ูุงููุนูููุงุช
โโโ assistant-message/ # ูุนุงูุฌุฉ ุฑุณุงุฆู ุงููุณุงุนุฏ
โโโ kilocode/          # ููููุงุช Kilo Code ุงูุฎุงุตุฉ
โโโ checkpoints/       # ููุงุท ุงูุชุญูู ูุงูุงุณุชุนุงุฏุฉ
```

### 1. ClineProvider

ุงูููุจ ุงููุงุจุถ ููุงูุชุฏุงุฏ - ูุฏูุฑ ูุงุฌูุฉ ุงูููุจ ูุงูุชูุงุนู ูุน ุงููุณุชุฎุฏู.

```typescript
// src/core/webview/ClineProvider.ts
export class ClineProvider {
	// ุฅุฏุงุฑุฉ webview panels
	// ูุนุงูุฌุฉ ุงูุฑุณุงุฆู
	// ุชูุณูู ุงูููุงู
}
```

**ุงููุณุคูููุงุช:**

- ุฅูุดุงุก ูุฅุฏุงุฑุฉ webview panels
- ูุนุงูุฌุฉ ุงูุฑุณุงุฆู ุจูู ุงูุงูุชุฏุงุฏ ูุงููุงุฌูุฉ
- ุชูุณูู ุชูููุฐ ุงูููุงู
- ุฅุฏุงุฑุฉ ุญุงูุฉ ุงูุฏุฑุฏุดุฉ

### 2. Task Manager

ุฅุฏุงุฑุฉ ุฏูุฑุฉ ุญูุงุฉ ุงูููุงู ูู ุงูุฅูุดุงุก ุฅูู ุงูุฅูุฌุงุฒ.

```typescript
// src/core/task/
export class Task {
	// ูุนูููุงุช ุงููููุฉ
	// ุญุงูุฉ ุงูุชูููุฐ
	// ุงูุชุงุฑูุฎ ูุงูุณุฌู
}
```

**ุงููุณุคูููุงุช:**

- ุชุฎุฒูู ูุชุชุจุน ุงูููุงู
- ุฅุฏุงุฑุฉ ุญุงูุฉ ุงูุชูููุฐ
- ุงูุชุนุงูู ูุน ุงูุฃุฎุทุงุก ูุงูุงุณุชุซูุงุกุงุช
- ุงูุณุฌู ูุงูุชุงุฑูุฎ

### 3. Tools System

ูุธุงู ุงูุฃุฏูุงุช ุงููุงุจู ููุชูุณูุน ูุชูููุฐ ุงูุนูููุงุช ุงูุจุฑูุฌูุฉ.

```typescript
// src/core/tools/
export abstract class Tool {
	abstract name: string
	abstract description: string
	abstract execute(params: any): Promise<any>
}
```

**ุงูุฃุฏูุงุช ุงููุชุงุญุฉ:**

- `ReadFile` - ูุฑุงุกุฉ ุงููููุงุช
- `WriteFile` - ูุชุงุจุฉ ุงููููุงุช
- `ExecuteCommand` - ุชูููุฐ ุฃูุงูุฑ ุงูุทุฑููุฉ
- `BrowserControl` - ุงูุชุญูู ุจุงููุชุตูุญ
- `SearchCode` - ุงูุจุญุซ ูู ุงูููุฏ

## ๐ง ุทุจูุฉ ุงูุฎุฏูุงุช (Services)

### ุงูุฎุฏูุงุช ุงูุฃุณุงุณูุฉ

```
src/services/
โโโ mcp/               # Model Context Protocol
โโโ code-index/        # ููุฑุณุฉ ุงูููุฏ ูุงูุจุญุซ
โโโ ghost/             # ุงูุฅููุงู ุงูุชููุงุฆู ุงูุฐูู
โโโ browser/           # ุงูุชุญูู ุจุงููุชุตูุญ
โโโ checkpoints/       # ููุงุท ุงูุชุญูู
โโโ marketplace/       # ุณูู ุงูุฅุถุงูุงุช
โโโ settings-sync/     # ูุฒุงููุฉ ุงูุฅุนุฏุงุฏุงุช
โโโ tree-sitter/       # ุชุญููู ุงูููุฏ
```

### 1. MCP Server Manager

ุฅุฏุงุฑุฉ ุฎูุงุฏู Model Context Protocol ูุชูุณูุน ูุฏุฑุงุช ุงูุงูุชุฏุงุฏ.

```typescript
// src/services/mcp/McpServerManager.ts
export class McpServerManager {
	// ุฅุฏุงุฑุฉ ุงูุฎูุงุฏู
	// ุงูุงุชุตุงู ูุงูุงุชุตุงู
	// ุชูุณูู ุงูุฃูุงูุฑ
}
```

### 2. Code Index Manager

ููุฑุณุฉ ุงูููุฏ ููุจุญุซ ุงูุณุฑูุน ูุงูุงุณุชุฑุฌุงุน ุงูุฐูู.

```typescript
// src/services/code-index/manager.ts
export class CodeIndexManager {
	// ููุฑุณุฉ ุงููููุงุช
	// ุงูุจุญุซ ุงูุฏูุงูู
	// ุงุณุชุฑุฌุงุน ุงูุณูุงู
}
```

### 3. Ghost Service

ุงูุฅููุงู ุงูุชููุงุฆู ุงูุฐูู ูู ุงููุญุฑุฑ.

```typescript
// src/services/ghost/
export class GhostProvider {
	// ุงูุชุฑุงุญุงุช ุงูุฅููุงู
	// ุงูุชูุจุค ุจุงูููุฏ
	// ุงูุชุนูู ูู ุงูุฃููุงุท
}
```

## ๐ ุชุฏูู ุงูุจูุงูุงุช

### 1. ุชุฏูู ุงููุณุชุฎุฏู

```
ุงููุณุชุฎุฏู โ Webview โ ClineProvider โ Task โ Tools โ Services โ VS Code API
```

### 2. ุชุฏูู ุงูุงุณุชุฌุงุจุฉ

```
VS Code API โ Services โ Tools โ Task โ ClineProvider โ Webview โ ุงููุณุชุฎุฏู
```

### 3. ุชุฏูู ุงูููุงู

```
ุฅูุดุงุก ูููุฉ โ ุชุญููู ุงูุทูุจ โ ุงุฎุชูุงุฑ ุงูุฃุฏูุงุช โ ุงูุชูููุฐ โ ุฌูุน ุงููุชุงุฆุฌ โ ุงูุงุณุชุฌุงุจุฉ
```

## ๐จ ููุท ุงูุชุตููู

### 1. Provider Pattern

ุงุณุชุฎุฏุงู VS Code Provider API ููุชูุงูู ูุน ุงููุญุฑุฑ.

```typescript
// ูุซุงู: CodeActionProvider
export class CodeActionProvider implements vscode.CodeActionProvider {
	provideCodeActions(): vscode.CodeAction[] {
		// ุชูููุฑ ุฅุฌุฑุงุกุงุช ุงูููุฏ
	}
}
```

### 2. Event-Driven Architecture

ุงุณุชุฎุฏุงู ุงูุฃุญุฏุงุซ ููุชูุณูู ุจูู ุงูููููุงุช.

```typescript
// ูุซุงู: ุชุบููุฑ ุงููุตุงุฏูุฉ
authStateChangedHandler = async (data) => {
	// ุชุญุฏูุซ ุงูุญุงูุฉ
	// ุฅุนุงุฏุฉ ุงูุงุชุตุงู
	// ุชุญุฏูุซ ุงููุงุฌูุฉ
}
```

### 3. Service Locator Pattern

ูุฑูุฒู ูููุตูู ุฅูู ุงูุฎุฏูุงุช ุงููุดุชุฑูุฉ.

```typescript
// ูุซุงู: ุงููุตูู ุฅูู ุงูุฎุฏูุงุช
const cloudService = getCloudService()
const telemetryService = getTelemetryService()
```

## ๐ ุงูุฃูุงู ูุงูุฎุตูุตูุฉ

### 1. ุฅุฏุงุฑุฉ ุงูููุงุชูุญ

- ุชุฎุฒูู API keys ุจุดูู ุขูู
- ุชุดููุฑ ุงูุจูุงูุงุช ุงูุญุณุงุณุฉ
- ุตูุงุญูุงุช ูุญุฏูุฏุฉ ููุฃูุงูุฑ

### 2. ุงูุตูุงุญูุงุช

- ูุงุฆูุฉ ุงูุฃูุงูุฑ ุงููุณููุญ ุจูุง
- ูุงุฆูุฉ ุงูุฃูุงูุฑ ุงููุญุธูุฑุฉ
- ูููุฉ ุชูููุฐ ุงูุฃูุงูุฑ

### 3. ุงูุฎุตูุตูุฉ

- ุนุฏู ุฅุฑุณุงู ุงูููุฏ ุจุฏูู ููุงููุฉ
- ุฅุนุฏุงุฏุงุช ุงูุชุชุจุน ุงููุงุจูุฉ ููุชุนุทูู
- ูุนุงูุฌุฉ ุงูุจูุงูุงุช ูุญููุงู ุนูุฏ ุงูุฅููุงู

## ๐งช ุงูุงุฎุชุจุงุฑ ูุงูุชุตุญูุญ

### 1. ูุญุฏุงุช ุงูุงุฎุชุจุงุฑ

- ุงุฎุชุจุงุฑุงุช ุงููุญุฏุงุช ููู ูููู
- ุงุฎุชุจุงุฑุงุช ุงูุชูุงูู ุจูู ุงูุฎุฏูุงุช
- ุงุฎุชุจุงุฑุงุช end-to-end

### 2. ุงูุชุณุฌูู

- ูููุงุช ุงูุฅุฎุฑุงุฌ ุงููุฎุชููุฉ
- ูุณุชููุงุช ุงูุชุณุฌูู ุงููุฎุชููุฉ
- ุฅุนุฏุงุฏุงุช ุงูุชุตุญูุญ

### 3. ุงูุฃุฏูุงุช

- VS Code Debugger
- Console logs
- Telemetry data

---

**ููุฎุต:** ุจููุฉ ุงูุงูุชุฏุงุฏ ูุตููุฉ ูุชููู ูุงุจูุฉ ููุชูุณูุนุ ูุงุจูุฉ ููุงุฎุชุจุงุฑุ ูุณููุฉ ุงูุตูุงูุฉ ูุน ูุตู ูุงุถุญ ูููุณุคูููุงุช ูุงุณุชุฎุฏุงู ุฃููุงุท ุงูุชุตููู ุงูุญุฏูุซุฉ.
